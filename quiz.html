<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teste da B√≠blia - Quiz</title>
  <meta name="description" content="Responda 20 perguntas b√≠blicas e descubra seu n√≠vel de conhecimento da B√≠blia.">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>


  <!-- Estilos da badge gamificada -->
  <style>
    /* Base da badge (c√≠rculo) */
    .badge-base {
      position: relative;
      width: 10rem;
      height: 10rem;
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: visible;
      background-color: #020617;
    }

    /* Cores da badge */
    .badge-iniciante { border: 4px solid #ef4444; box-shadow: 0 0 40px rgba(248, 113, 113, 0.5); }
    .badge-intermediario { border: 4px solid #facc15; box-shadow: 0 0 40px rgba(250, 204, 21, 0.5); }
    .badge-avancado { border: 4px solid #22c55e; box-shadow: 0 0 40px rgba(34, 197, 94, 0.5); }
    .badge-mestre { border: 4px solid #a855f7; box-shadow: 0 0 40px rgba(168, 85, 247, 0.6); }

    /* glow */
    @keyframes pulse-glow {
      0%   { transform: scale(1); }
      50%  { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    .badge-animated { animation: pulse-glow 3s ease-in-out infinite; }

    /* Trof√©u */
    #badge-trophy {
      font-size: 4.75rem;
      color: #ffd700;
      filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.6));
      animation: trophy-pop 1.4s ease-in-out infinite alternate;
    }

    @keyframes trophy-pop {
      0%   { transform: translateY(4px) scale(0.97); opacity: 0.9; }
      100% { transform: translateY(-4px) scale(1.03); opacity: 1; }
    }

    /* part√≠culas */
    .badge-base::before,
    .badge-base::after {
      content: "";
      position: absolute;
      inset: -25%;
      border-radius: 9999px;
      pointer-events: none;
      background-image:
        radial-gradient(circle at 10% 20%, rgba(255,255,255,0.18) 0, transparent 45%),
        radial-gradient(circle at 80% 30%, rgba(255,255,255,0.16) 0, transparent 45%),
        radial-gradient(circle at 30% 80%, rgba(255,255,255,0.14) 0, transparent 45%),
        radial-gradient(circle at 70% 75%, rgba(255,255,255,0.12) 0, transparent 40%);
      opacity: 0.8;
    }
    .badge-base::before { animation: spin-particles 24s linear infinite; }
    .badge-base::after { animation: spin-particles 32s linear infinite reverse; }

    @keyframes spin-particles {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }
  </style>
</head>

<body class="bg-slate-950 text-slate-50">
  <main class="min-h-screen flex items-center justify-center px-4 py-8">
    <div
      class="relative w-full max-w-3xl bg-gradient-to-b from-slate-900/90 to-slate-950 border border-slate-800 rounded-3xl p-6 sm:p-8 shadow-[0_0_80px_rgba(16,185,129,0.18)] overflow-hidden"
    >
      <!-- Glow decorativo -->
      <div class="pointer-events-none absolute -top-32 left-1/2 h-64 w-64 -translate-x-1/2 rounded-full bg-emerald-500/15 blur-3xl"></div>

      <!-- HEADER -->
      <header class="relative z-10 mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <div
            class="inline-flex items-center gap-2 rounded-full bg-emerald-500/10 border border-emerald-500/30 px-3 py-1 mb-2"
          >
            <span class="h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse"></span>
            <span class="text-[11px] font-medium text-emerald-300">
              MVP ¬∑ Teste da B√≠blia
            </span>
          </div>
          <h1 class="text-2xl md:text-3xl font-bold tracking-tight">Teste da B√≠blia</h1>
          <p class="text-xs md:text-sm text-slate-300 mt-1">
            20 perguntas r√°pidas sobre Antigo e Novo Testamento.
          </p>
        </div>
        <a
          href="index.html"
          class="inline-flex items-center justify-center rounded-xl text-[11px] sm:text-xs text-slate-400 hover:text-emerald-300 underline-offset-2 hover:underline"
        >
          ‚Üê Voltar para a p√°gina inicial
        </a>
      </header>

      <!-- PROGRESSO + TIMER -->
      <div class="relative z-10 mb-5">
        <div class="flex items-center justify-between mb-2">
          <div class="flex flex-col gap-1">
            <span id="progress-text" class="text-xs text-slate-300">
              Pergunta 1 de 20
            </span>
            <!-- <span id="score-preview" class="text-[11px] text-slate-500">Respostas corretas: 0</span> -->
          </div>

          <!-- TIMER (20s) -->
          <div class="flex items-center gap-2">
            <span class="hidden sm:inline text-[11px] text-slate-500">
              Tempo para responder
            </span>
            <div
              id="timer"
              class="inline-flex items-center gap-1 rounded-full bg-slate-900/80 border border-amber-400/60 px-3 py-1 text-[11px] font-medium text-amber-300"
            >
              ‚è≥ <span>20s</span>
            </div>
          </div>
        </div>

        <div class="w-full bg-slate-800 rounded-full h-2 overflow-hidden">
          <div id="progress-bar" class="h-2 bg-emerald-500 w-0"></div>
        </div>
      </div>

      <!-- √ÅREA DAS PERGUNTAS -->
      <section id="quiz-section" class="relative z-10">
        <h2
          id="question-text"
          class="text-base md:text-lg font-semibold mb-4"
        >
          Carregando pergunta...
        </h2>

        <form id="options-form" class="space-y-2 mb-4"></form>

        <p
          id="error-message"
          class="text-xs text-red-400 mb-2 hidden"
        >
          Escolha uma alternativa para continuar.
        </p>

        <div class="flex justify-between items-center mt-2 gap-3">
          <button
            type="button"
            id="prev-btn"
            class="px-3 py-2 rounded-xl border border-slate-700 bg-slate-900/70 text-xs md:text-sm text-slate-200 hover:border-slate-500 disabled:opacity-30 disabled:cursor-not-allowed transition"
          >
            ‚¨Ö Anterior
          </button>

          <button
            type="button"
            id="next-btn"
            class="px-4 py-2 rounded-xl bg-emerald-500 text-slate-950 font-semibold text-xs md:text-sm hover:bg-emerald-400 transition"
          >
            Pr√≥xima pergunta
          </button>
        </div>
      </section>

      <!-- RESULTADO -->
      <section id="result-section" class="relative z-10 hidden">
        <h2 class="text-xl md:text-2xl font-bold mb-1">Seu resultado</h2>
        <p class="text-xs md:text-sm text-slate-300 mb-6">
          Veja sua pontua√ß√£o, n√≠vel e √°reas para aprofundar.
        </p>

        <!-- GAMIFICA√á√ÉO -->
        <div id="badge-wrapper" class="flex flex-col items-center mb-6">
          <div
            id="badge-icon"
            class="badge-base badge-mestre badge-animated mx-auto"
          >
            <div class="absolute -left-6 text-3xl select-none">üåø</div>
            <div class="absolute -right-6 text-3xl select-none">üåø</div>
            <div id="badge-trophy">üèÜ</div>

            <div
              id="badge-ribbon"
              class="absolute -bottom-4 px-4 py-1 rounded-full bg-purple-500 text-[10px] font-semibold tracking-[0.2em] uppercase"
            >
              <span id="badge-label">MESTRE</span>
            </div>
          </div>

          <p id="final-score" class="mt-8 text-4xl font-extrabold">
            0 / 1000
          </p>
          <p id="final-level" class="text-sm text-slate-300 mt-1">
            N√≠vel -
          </p>
          <p class="text-[11px] text-slate-500 mt-1 text-center">
            Essa √© a sua pontua√ß√£o no Teste da B√≠blia. Use como meta para crescer cada vez mais.
          </p>
        </div>

        <!-- DIAGN√ìSTICO -->
        <div class="border border-slate-800 rounded-2xl p-3 sm:p-4 mb-4 text-sm bg-slate-950/50">
          <p class="text-[11px] text-slate-400 mb-1 uppercase tracking-wide">
            Como voc√™ foi?
          </p>
          <p id="diagnostic-text" class="text-slate-200">
            Carregando an√°lise...
          </p>
        </div>

        <!-- SUGEST√ïES DE ESTUDO -->
        <div class="border border-slate-800 rounded-2xl p-3 sm:p-4 mb-5 text-sm bg-slate-950/50">
          <p class="text-[11px] text-slate-400 mb-1 uppercase tracking-wide">
            O que estudar a partir daqui
          </p>
          <ul
            id="study-tips"
            class="list-disc list-inside text-slate-200 space-y-1"
          ></ul>
        </div>

        <!-- ENTRAR NO RANKING -->
        <div class="mb-5 border border-emerald-500/30 bg-emerald-500/5 rounded-2xl p-3 sm:p-4">
          <p class="text-[11px] text-emerald-300 mb-1 uppercase tracking-wide">
            Entrar no Ranking 
          </p>
          <p class="text-xs text-slate-200 mb-3">
            Coloque seu nome para aparecer no ranking do Teste da B√≠blia
            e desafiar seus amigos
          </p>

          <div class="flex flex-col sm:flex-row gap-2">
            
             
            <button
              type="button"
              onclick="enviarResultadoParaRankingInput()"
              id="send-ranking-btn"
              class="sm:w-40 inline-flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold text-xs sm:text-sm py-2 rounded-xl transition"
            >
              üì§ Enviar resultado
            </button>
          </div>

          <p
            id="ranking-status"
            class="mt-2 text-[11px] text-slate-400"
          ></p>
        </div>

        <!-- A√á√ïES FINAIS -->
        <div class="flex flex-col sm:flex-row gap-3 mt-2">
          <button
            id="retry-btn"
            class="flex-1 px-4 py-2 rounded-xl bg-emerald-500 text-slate-950 font-semibold text-sm hover:bg-emerald-400 transition"
          >
            Refazer o teste
          </button>
          <a
            href="index.html"
            class="flex-1 px-4 py-2 rounded-xl border border-slate-700 text-sm text-slate-200 hover:border-emerald-400 hover:text-emerald-300 text-center flex items-center justify-center"
          >
            Voltar para a p√°gina inicial
          </a>
        </div>
      </section>

      <!-- SCRIPTS -->
      <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
      <script src="script.js"></script>
    </div>
  </main>
</body>
</html>
